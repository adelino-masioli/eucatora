function functionSave(t,e,a){return $(t).ajaxForm({success:function(o){1==o.status?(notifyAlerts(o.response,"fa fa-check","success"),"reset"==$("#formreset").val()&&(resetForm(t),$("input").tagsinput("refresh"),$("input").tagsinput("destroy"),$("select").selectpicker("refresh")),o.content&&((e||a)&&divHideShow(e,a),o.midias?showContentDataMidia(o.midias):showContentData(o.content)),$(":file").filestyle("clear")):notifyAlerts(o.response,"fa fa-exclamation-circle","danger")},error:function(t){return notifyAlerts(formatErrors(t.responseJSON),"fa fa-exclamation-circle","info"),!1},type:"post",dataType:"json",url:$(t).attr("action")}).submit(),!1}function confirmActionDestroy(t){var e=$("#urlaction").html(),a=$("#msgaction").html(),o=$("#sizection").html();bootbox.confirm({size:o,message:a,callback:function(a){if(1==a){if(""==t)return!1;functionDestroy(e,t)}},buttons:{confirm:{label:"Confirmar"},cancel:{label:"Cancelar",className:"btn-danger"}}})}function functionDestroy(t,e){return $.ajax({type:"POST",url:t,data:{id:e,_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?(notifyAlerts(obj.response,"fa fa-check","success"),funcionRefreshDatatable()):notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1}}),!1}function functionDuplicate(t){var e=$(".datatable tbody tr td #"+t).attr("id"),a=$(".datatable tbody tr td #"+t).attr("data_url");return $.ajax({type:"POST",url:a,data:{id:e,_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?(notifyAlerts(obj.response,"fa fa-check","success"),funcionRefreshDatatable()):notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1}}),!1}function functionDestroyImage(t,e,a,o){return $.ajax({type:"POST",url:t,data:{id:e,_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?(notifyAlerts(obj.response,"fa fa-check","success"),divHideShow(a,o),0==obj.count&&showNoResult("#showResult")):notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1}}),!1}function functionDefaultImage(t,e,a,o){return $.ajax({type:"POST",url:t,data:{id:e,transaction:o,_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?(notifyAlerts(obj.response,"fa fa-check","success"),$(".btndefault").removeClass("btn-success"),$(".btndefault").addClass("btn-default"),$(".btndefault i").removeClass("fa-thumbs-o-up"),$(".btndefault i").addClass("fa-thumbs-o-down"),$(a).removeClass("btn-default"),$(a).addClass("btn-success"),$(a+" i").removeClass("fa-thumbs-o-down"),$(a+" i").addClass("fa-thumbs-o-up"),!1):(notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1)}}),!1}function functionDefineCategory(t,e,a,o){return $.ajax({type:"POST",url:t,data:{category_id:e,product_id:o,_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?(notifyAlerts(obj.response,"fa fa-check","success"),0==obj.action?$(a).removeClass("list-group-item-info"):$(a).addClass("list-group-item-info"),!1):(notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1)}}),!1}function showContentDataMidia(t){if("false"!=t){$("#showResult").html("");var e="",a="",o="",n="",s="";return t?($.each(t,function(t,r){a="yes"==r.is_thumb?"btn-success":"btn-default",o="yes"==r.is_thumb?"fa-thumbs-o-up":"fa-thumbs-o-down",n="#img_"+r.id,s="#btnimg_"+r.id,e+='<div class="col-lg-2" id="img_'+r.id+'">',e+='<div class="thumbnail">',e+='<div class="thumbheight"><img class="img-responsive" src="'+$("#baseurl").val()+"/"+r.path+"/thumb/200_"+r.image+'" alt="'+r.name+'"></div>',e+='<div class="caption">',e+='<div class="btn-group btn-group-justified" role="group" aria-label="btn-midias">',e+='<div class="btn-group" role="group">',e+='<button type="button" class="btn btndefault '+a+'" id="btnimg_'+r.id+'" onclick="functionDefaultImage(\''+$("#pathdefault").val()+"', '"+r.id+"', '"+s+"', '"+$("#transaction").val()+'\');"><i class="fa '+o+'" aria-hidden="true"></i> Principal</button>',e+="</div>",e+='<div class="btn-group" role="group">',e+='<button type="button" class="btn btn-danger" onclick="functionDestroyImage(\''+$("#pathdestroy").val()+"', '"+r.id+"', null, '"+n+'\');"><i class="fa fa-trash" aria-hidden="true"></i> Excluir</button>',e+="</div>",e+="</div>",e+="</div>",e+="</div>",e+="</div>"}),$("#showResult").append(e)):showNoResult("#showResult"),!1}}function searchCEP(t,e){$.ajax({type:"GET",url:t+"/"+$(e).val()}).done(function(t){t&&($("#fields_address input").empty(),obj=JSON.parse(t),$("#neighborhood").val(obj.bairro),$("#address").val(obj.logradouro),$("#complement").val(obj.complemento))})}function functionSearchProduct(t){return(""!=$("#product_sku").val()||""!=$("#product_name").val())&&($.ajax({type:"POST",url:t,data:{sku:$("#product_sku").val(),name:$("#product_name").val(),_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?($("#result-search-product input").empty(),$("#product_id").val(obj.id),$("#product_sku").val(obj.sku),$("#product_name").val(obj.name),$("#product_price").val(obj.price),$("#product_amount").val(1),2==obj.image?($("#thumbnailproduct").fadeOut(1e3),setTimeout(function(){$("#thumbnailproduct").removeClass("thumbnail"),$("#thumbnailproduct").empty()},1200)):($("#thumbnailproduct").hide(),$("#thumbnailproduct").addClass("thumbnail"),$("#thumbnailproduct").html('<img src="'+obj.image+'" class="img-responsive">'),$("#thumbnailproduct").fadeIn(1e3)),!1):(notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1)}}),!1)}function removeImage(t){$(t).empty(),$(t).removeClass("thumbnail")}function functionAddItem(t){return $.ajax({type:"POST",url:t,data:{product_id:$("#product_id").val(),amount:$("#product_amount").val(),transaction:$("#transaction").val(),order_id:$("#order_id").val(),_token:$("#_token").val()},success:function(t){if(obj=JSON.parse(t),1==obj.status){if(notifyAlerts(obj.response,"fa fa-exclamation-circle","success"),obj.itens){var e="",a="#tableitens";return $("#tableitens #showitens").html(""),$.each(obj.itens,function(t,o){e+='<tr id="'+o.id+'">',e+='<td class="text-center">'+o.sku+"</td>",e+='<td class="text-left">'+o.name+"</td>",e+='<td class="text-center">'+o.qtd+"</td>",e+='<td class="col-lg-1 text-right">'+o.price+"</td>",e+='<td class="col-lg-1 text-right">'+o.subtotal+"</td>",e+='<td class="text-center"><button class="btn btn-xs btn-danger" onclick="functionRemoveItem(\''+$("#pathdestroy").val()+"', '"+o.id+"', '"+a+"');\">Excluir</button></td>",e+="</tr>"}),$("#tableitens #showitens").append(e),$("#subtotal").html(obj.total),$("#payment_value").val(obj.total),$("#btnorderfootpayment, #btnorderfootshipping, #btnorderfootfinish").removeClass("disabled"),!1}return!1}return notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1},error:function(t){return notifyAlerts(formatErrors(t.responseJSON),"fa fa-exclamation-circle","info"),!1}}),!1}function functionRemoveItem(t,e,a){return $.ajax({type:"POST",url:t,data:{id:e,order_id:$("#order_id").val(),_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?(notifyAlerts(obj.response,"fa fa-exclamation-circle","success"),$(a+" tbody tr#"+e).fadeOut(),$("#subtotal").html(obj.total),$("#payment_value").val(obj.total),0==obj.qtd&&$("#btnorderfootpayment, #btnorderfootshipping, #btnorderfootfinish").addClass("disabled"),!1):(notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1)},error:function(t){return notifyAlerts(formatErrors(t.responseJSON),"fa fa-exclamation-circle","info"),!1}}),!1}function functionSearchCustomer(t){return $.ajax({type:"POST",url:t,data:{search:$("#search").val(),_token:$("#_token").val()},success:function(t){if(obj=JSON.parse(t),obj.result){var e="";return $("#listcustomer").html(""),e+='<li class="liheader">',e+='<span class="col-lg-2 text-center"><strong>ID</strong></span>',e+='<span class="col-lg-10 text-center"><strong>NOME</strong></span>',e+="</li>",$.each(obj.result,function(t,a){e+='<li id="licontentactive" class="licontent_'+a.id+'"  onclick="functionSelectCustomer(\''+a.id+"', '"+a.name+"', '"+a.address+", "+a.number+" - "+a.neighborhood+" - "+a.zipcode+" - "+a.complement+"');\">",e+='<span class="col-lg-2 text-center">'+a.id+"</span>",e+='<span class="col-lg-10 text-left">'+a.name+"</span>",e+="</li>"}),$("#listcustomer").append(e),!1}return notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1},error:function(t){return notifyAlerts(formatErrors(t.responseJSON),"fa fa-exclamation-circle","info"),!1}}),!1}function functionSelectCustomer(t,e,a){return $("#listcustomer li").removeClass("active"),$("#listcustomer li.licontent_"+t).addClass("active"),$("#customer_id").val(t),$("#customer_name").val(e),$("#shipping_address").val(a),!1}function functionConfirmCustomer(t){return $.ajax({type:"POST",url:t,data:{id:$("#customer_id").val(),name:$("#customer_name").val(),transaction:$("#transaction").val(),_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?(notifyAlerts(obj.response,"fa fa-exclamation-circle","success"),!1):(notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1)},error:function(t){return notifyAlerts(formatErrors(t.responseJSON),"fa fa-exclamation-circle","info"),!1}}),!1}function functionAddShipping(t){return $.ajax({type:"POST",url:t,data:{order_id:$("#order_id").val(),transaction:$("#transaction").val(),description:$("#shipping_description").val(),address:$("#shipping_address").val(),value:$("#shipping_value").val(),date:$("#shipping_date").val(),time:$("#shipping_time").val(),_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?(notifyAlerts(obj.response,"fa fa-exclamation-circle","success"),!1):(notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1)},error:function(t){return notifyAlerts(formatErrors(t.responseJSON),"fa fa-exclamation-circle","info"),!1}}),!1}function functionAddPayment(t){return $.ajax({type:"POST",url:t,data:{order_id:$("#order_id").val(),transaction:$("#transaction").val(),description:$("#payment_description").val(),value:$("#payment_value").val(),_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?(notifyAlerts(obj.response,"fa fa-exclamation-circle","success"),!1):(notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1)},error:function(t){return notifyAlerts(formatErrors(t.responseJSON),"fa fa-exclamation-circle","info"),!1}}),!1}function functionFinishOrder(t){return $.ajax({type:"POST",url:t,data:{order_id:$("#order_id").val(),transaction:$("#transaction").val(),_token:$("#_token").val()},success:function(t){return obj=JSON.parse(t),1==obj.status?(notifyAlerts(obj.response,"fa fa-exclamation-circle","success"),$("#btnneworder").removeClass("disabled").removeClass("btn-default").addClass("btn-primary"),$("#btnorders").removeClass("disabled").removeClass("btn-default").addClass("btn-info"),$("#btnconfirmorder").addClass("disabled").removeClass("btn-success").addClass("btn-default").removeAttr("onclick"),$("#btnconfirmclose").addClass("disabled").removeAttr("data-dismiss"),$(".blockorder").fadeIn(),$("#msgsucces").fadeIn(),$("#msgsucces p").html('<i class="fa fa-check-circle" aria-hidden="true"></i> '+obj.response),!1):(notifyAlerts(obj.response,"fa fa-exclamation-circle","danger"),!1)},error:function(t){return notifyAlerts(formatErrors(t.responseJSON),"fa fa-exclamation-circle","info"),!1}}),!1}function showNoResult(t){$(t).html('<div class="col-lg-12 text-center" id="noresult"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Nenhum registro cadastrado.</div>')}function divHideShow(t,e){$(e).hide(),$(t).show(),$(t).removeClass("hidden"),$(e+" img").remove()}function showContentData(t){$(".btn-trash-image").removeClass("hidden"),$(".divdatacontent").html('<img src="'+t+'" width="100%"/>')}function notifyAlerts(t,e,a){$.notify({icon:e,message:t,animate:{enter:"animated zoomInDown",exit:"animated zoomOutUp"}},{type:a})}function resetForm(t){$(t).each(function(){this.reset()})}function formatErrors(t){var e=t;for(var a in e)return e[a][0]}function onlyNumber(t){$(t).on("keypress input",function(){var t=$(this).val();t=t.replace(/\D+/,""),$(this).val(t)})}function showHiden(t){$(t).hasClass("show")?($(t).fadeOut(),$(t).removeClass("show")):($(t).fadeIn(),$(t).addClass("show"))}function changeMask(t){1==t?($("#document").mask("999.999.999-99",{reverse:!0}),$("#document").removeAttr("disabled")):($("#document").mask("99.999.999/9999-99",{reverse:!0}),$("#document").removeAttr("disabled"))}function changeMaskInput(){"cpf"==$("input[name=document_type]:checked").val()?$("#document").mask("999.999.999-99",{reverse:!0}):$("#document").mask("99.999.999/9999-99",{reverse:!0})}$(document).ready(function(){$(":file").filestyle({buttonName:"btn-primary",buttonText:"Selecione",placeholder:"Selecione um arquivo",icon:!1})}),$(".modal").modal({show:!1,backdrop:"static",keyboard:!1}),$(".input_datapicker").datepicker({format:"dd/mm/yyyy"}),$(function(){$('[data-toggle="tooltip"]').tooltip({container:"body"}),$('[data-title="tooltip"]').tooltip({container:"body"})}),$("input").attr("autocomplete","off"),$(window).resize(function(){$("#resize-pdv-products, #resize-pdv-itens").height($(window).height()-90)}),$(window).trigger("resize"),$(".modal").each(function(t){$(this).on("show.bs.modal",function(t){var e=$(this).attr("data-easein");"shake"==e?$(".modal-dialog").velocity("callout."+e):"pulse"==e?$(".modal-dialog").velocity("callout."+e):"tada"==e?$(".modal-dialog").velocity("callout."+e):"flash"==e?$(".modal-dialog").velocity("callout."+e):"bounce"==e?$(".modal-dialog").velocity("callout."+e):"swing"==e?$(".modal-dialog").velocity("callout."+e):$(".modal-dialog").velocity("transition."+e)})});